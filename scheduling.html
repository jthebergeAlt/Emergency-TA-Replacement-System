<!DOCTYPE HTML>
<html>
  <head>
    <title>TA Replacements | Scheduling</title>

    <!-- ==========================
     Meta Tags
    =========================== -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- ==========================
     CSS
    =========================== -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link href="styles/bootstrap-select.min.css" rel="stylesheet" type="text/css">
    <link href="styles/style.css" rel="stylesheet" type="text/css">

    <!-- ==========================
    JS
    =========================== -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script async src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <script async src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script type="text/javascript" src="http://cdn.rawgit.com/h2non/jsHashes/master/hashes.js"></script>
    <script type="text/javascript" src="scripts/bootstrap-select.min.js"></script>


  </head>
  <body>
  <div class='container'>
    <form method='post' action='updateSchedule.php' id='schedule'>
      <div class="card">
        <h4 class="card-header">Availability</h4>
        <div class="card-block">
          <h5>Labs</h5>
          <select onchange="getUpdatedTimes($(this).val())" class="selectpicker" multiple>
           <option value="1">Looooooooong</option>
           <option value="2">2</option>
           <option value="3">3</option>
           <option value="4">4</option>
           <option value="5">5</option>
           <option value="6">6</option>
           <option value="7">7</option>
           <option value="8">8</option>
         </select>
         <br>
         <br>
         <h5>Times for labs selected</h5>
         <select disabled class="selectpicker" multiple>
          <option value="1">Looooooooong</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
        </select>
          <hr>
          <button class='btn' type='submit'>Save</button>
        </div>
      </div>
    </form>
    <br>
    <div class='card'>
      <h4 class="card-header">TA List</h4>
      <div class="card-block">
        <ul id='TA_list'>

        </ul>
      </div>
    </div>
    <form method='post' action='logout.php'>
      <button type='submit' style='color: white;' class='btn'>Sign Out</button>
    </form>
    <!-- <hr>
    <form>
      <div class="card">
        <h4 class="card-header">Notify of Absence</h4>
        <div class="card-block">
          <label><div>Date(s) absent for COEN 122 section #123 </div>
            <input id="date" type="date" name="absence">
          </label>
          <hr>
         <button class='btn' type='submit'>Notify</button>
        </div>
      </div>
    </form> -->
    <!-- <script>
      $("#date").flatpickr({mode: "multiple", minDate: "today"});
      $("#schedule").submit(function(test) {
        console.log("TESTING:", $(this).serialize());
        return false;
      });
    </script> -->
  </div>
  <script>
    $.get("getTA.php", data => {
      let obj = JSON.parse(data);
      let names = '';
      for (let i = 0; i < obj.length; i++) {
        var name = (obj[i].first_name + ' ' + obj[i].last_name);
        if (!names) names = name;
        else names = names + '\n' + name;
      }
      $('#TA_list').text(names).wrap('<pre></pre>');
    });

    $("#schedule").submit(function(e){
      $.post()
      return false;
    });

    function getUpdatedTimes(selected) {
      //$.get('getTimes', selected).then()
    }
  </script>
</body>
</html>
